<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
    <mapper namespace="INSTR_INFO">
    
    <!-- 교수정보  가져오기 -->
    <select id="prlist" resultType="com.teamp.cau.dto.professorDTO">
    	select * from INSTR_INFO 
    	
    </select>
    
      <select id="search" parameterType="HashMap" resultType="com.teamp.cau.dto.professorDTO">
    	select * from INSTR_INFO
    		<choose>
    			<when test="name_search != null and code_search != null">
    				where korn_flnm like '%${name_search}%' and crclm like '%${code_search}%';
    			</when>
    			<when test="name_search != null and (code_search == null or code_search == '')">
    				where korn_flnm like '%${name_search}%';
    			</when>
    			<when test="(name_search == null or name_search =='') and code_search != null">
    			where crclm like '%${code_search}%';
    			</when>
    			<otherwise>
				</otherwise>
    		</choose>
    </select>
    
    
   
    </mapper>